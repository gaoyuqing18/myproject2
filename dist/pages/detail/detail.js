"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}require(["../../static/conf/config.js"],function(){require(["jquery","template"],function(a,t){console.log(a);var c=window.sessionStorage,o=c.key(0);a(".currentUser").html("尊敬的 "+o+" 欢迎您！！！");var n=a("#smallImg"),l=a("#smallCursor"),s=a("#bigImg"),i=a("#bigCursor");l.width(i.width()/s.width()*n.width()),l.height(i.width()/s.width()*n.width()),n.hover(function(){l.show(),i.show()},function(){l.hide(),i.hide()}),n.mousemove(function(t){var o=t.clientX-n.offset().left-l.width()/2,i=t.clientY-n.offset().top-l.height()/2;o=Math.min(Math.max(0,o),n.width()-l.width()),i=Math.min(Math.max(0,i),n.height()-l.height()),l.css({left:o,top:i});var e=s.width()/n.width();s.css({left:-e*o,top:-e*i})}),a.ajax({url:"/static/json-data/items.json",dataType:"json",success:function(n){console.log(n.detail[0].subTitle),a(".goods-title").html(n.detail[0].title),a(".detail").html(n.detail[0].subTitle),a(".tag-name1").html(n.detail[0].information1),a(".tag-name2").html(n.detail[0].information2),a(".origin-price").html(n.detail[0].price),a(".discount-price").html(n.detail[0].discountprice);var l=parseInt(a("#goodsNo").html()),s=parseInt(a(".discount-price").html());console.log(l),a(".reduce").on("click",function(){console.log("ok"),(l-=1)<=0&&(l=0),a("#goodsNo").html(l)}),a(".plus").on("click",function(){l+=1,a("#goodsNo").html(l)}),a("#jCard").on("click",function(){l=parseInt(a("#goodsNo").html()),console.log(l);var t=l*s;if(window.localStorage){var o=window.localStorage,i={userName:c.key(0),goodtitle:n.detail[0].title,goodNo:n.detail[0].id,num:l,price:s,totalPrice:t};console.log(i);var e=JSON.stringify(i);console.log(_typeof(e)),o.setItem(n.detail[0].id,e)}})}})})});