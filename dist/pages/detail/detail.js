"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}require(["../../static/conf/config.js"],function(){require(["jquery","template"],function(c,t){console.log(c);var r=window.sessionStorage,o=r.key(0);c(".currentUser").html("尊敬的 "+o+" 欢迎您！！！");var l=c("#smallImg"),n=c("#smallCursor"),s=c("#bigImg"),e=c("#bigCursor");n.width(e.width()/s.width()*l.width()),n.height(e.width()/s.width()*l.width()),l.hover(function(){n.show(),e.show()},function(){n.hide(),e.hide()}),l.mousemove(function(t){var o=t.clientX-l.offset().left-n.width()/2,e=t.clientY-l.offset().top-n.height()/2;o=Math.min(Math.max(0,o),l.width()-n.width()),e=Math.min(Math.max(0,e),l.height()-n.height()),n.css({left:o,top:e});var i=s.width()/l.width();s.css({left:-i*o,top:-i*e})}),c.ajax({url:"/static/json-data/items.json",dataType:"json",success:function(l){console.log(l.detail[0].subTitle),c(".goods-title").html(l.detail[0].title),c(".detail").html(l.detail[0].subTitle),c(".tag-name1").html(l.detail[0].information1),c(".tag-name2").html(l.detail[0].information2),c(".origin-price").html(l.detail[0].price),c(".discount-price").html(l.detail[0].discountprice);var n=parseInt(c("#goodsNo").html()),s=parseInt(c(".discount-price").html());console.log(n),c(".reduce").on("click",function(){console.log("ok"),(n-=1)<=0&&(n=0),c("#goodsNo").html(n)}),c(".plus").on("click",function(){n+=1,c("#goodsNo").html(n)}),c("#jCard").on("click",function(){n=parseInt(c("#goodsNo").html()),console.log(n);var t=n*s;if(window.localStorage&&0!=n){var o=window.localStorage,e={userName:r.key(0),goodImg:l.detail[0].prodPicUrl,goodtitle:l.detail[0].title,goodNo:l.detail[0].id,num:n,price:s,totalPrice:t};console.log(e),console.log("buy"+r.key(0));var i=JSON.stringify(e);console.log(_typeof(i)),o.setItem("buy"+r.key(0),i)}})}})})});