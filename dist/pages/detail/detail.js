"use strict";require(["../../static/conf/config.js"],function(){require(["jquery","template"],function(s,t){console.log(s);var d=window.sessionStorage,i=d.key(0);s(".currentUser").html("尊敬的 "+i+" 欢迎您！！！");var a=s("#smallImg"),l=s("#smallCursor"),n=s("#bigImg"),o=s("#bigCursor");l.width(o.width()/n.width()*a.width()),l.height(o.width()/n.width()*a.width()),a.hover(function(){l.show(),o.show()},function(){l.hide(),o.hide()}),a.mousemove(function(t){var i=t.clientX-a.offset().left-l.width()/2,o=t.clientY-a.offset().top-l.height()/2;i=Math.min(Math.max(0,i),a.width()-l.width()),o=Math.min(Math.max(0,o),a.height()-l.height()),l.css({left:i,top:o});var e=n.width()/a.width();n.css({left:-e*i,top:-e*o})}),s.ajax({url:"/static/json-data/items.json",dataType:"json",success:function(a){s(".goods-title").html(a.detail[0].title),s(".detail").html(a.detail[0].subTitle),s(".tag-name1").html(a.detail[0].information1),s(".tag-name2").html(a.detail[0].information2),s(".origin-price").html(a.detail[0].price),s(".discount-price").html(a.detail[0].discountprice);var l=parseInt(s("#goodsNo").html()),n=parseInt(s(".discount-price").html());s(".reduce").on("click",function(){(l-=1)<=0&&(l=0),s("#goodsNo").html(l)}),s(".plus").on("click",function(){l+=1,s("#goodsNo").html(l)}),s("#jCard").on("click",function(){var t=(l=parseInt(s("#goodsNo").html()))*n;if(window.localStorage&&0!=l){var i=window.localStorage,o={userName:d.key(0),goodImg:a.detail[0].prodPicUrl,goodtitle:a.detail[0].title,goodNo:a.detail[0].id,num:l,price:n,totalPrice:t},e=JSON.stringify(o);i.setItem("buy"+d.key(0),e),s("#catNum").html(l)}})}})})});